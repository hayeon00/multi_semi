<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<head>
    <meta charset="UTF-8">
    <title>내가 쓴 리뷰 | TRAVEL PLANING</title>
    <link rel="stylesheet" th:href="@{/css/common.css}">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
<header>
    <div class="header-container">
        <div class="logo">TRAVEL PLANING</div>
        <nav>
            <a href="/">Home</a>
            <a href="/mypage">마이페이지</a>
            <a href="/logout">로그아웃</a>
        </nav>
    </div>
</header>

<main>
    <div class="course-container" style="flex-direction: column;">
        <h2 style="margin-bottom: 20px;">내가 작성한 리뷰</h2>

        <div th:if="${myReviews.empty}" class="no-reviews" style="text-align:center; color:#999;">
            아직 작성한 리뷰가 없습니다.
        </div>

        <div th:each="review : ${myReviews.content}" class="review-card" style="background:#fff; padding:20px; border-radius:10px; box-shadow:0 2px 10px rgba(0,0,0,0.05); margin-bottom:20px;">
            <h3 th:text="${review.title}" style="font-size:20px; color:#2c3e50; margin-bottom:10px;">리뷰 제목</h3>
            <div class="review-meta" style="font-size:13px; color:#777;">
                <span th:text="'작성일: ' + ${#temporals.format(review.createdAt, 'yyyy-MM-dd HH:mm')}">작성일</span>
            </div>

            <div class="rating-stars" style="margin: 10px 0; color: gold; font-size:18px;">
                <span th:each="i : ${#numbers.sequence(1, review.rating)}">★</span>
                <span th:each="i : ${#numbers.sequence(review.rating + 1, 5)}">☆</span>
            </div>

            <p class="review-content" th:text="${review.content}" style="font-size:15px; line-height:1.6;">리뷰 내용입니다.</p>

            <div class="review-images" style="margin-top:10px;">
                <img th:each="img : ${review.imageUrls}" th:src="@{${img}}" alt="리뷰 이미지"
                     style="max-height:100px; margin-right:10px; border-radius:6px;">
            </div>
        </div>

        <div class="button-section" style="text-align:center; margin-top:20px;">
            <button onclick="location.href='/'">홈으로 가기</button>
        </div>

        <div class="pagination" style="text-align:center; margin-top:20px;">
            <a th:if="${myReviews.hasPrevious()}" th:href="@{/reviews/my(page=${myReviews.number - 1})}">← 이전</a>
            <span th:text="${myReviews.number + 1} + ' / ' + ${myReviews.totalPages}">1 / 1</span>
            <a th:if="${myReviews.hasNext()}" th:href="@{/reviews/my(page=${myReviews.number + 1})}">다음 →</a>
        </div>
    </div>
</main>

<footer style="text-align:center; padding:20px 0; background:#f1f1f1;">
    &copy; 2025 Travel Planing. All rights reserved.
</footer>

</body>
</html>
